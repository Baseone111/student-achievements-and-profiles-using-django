{% extends 'pages/base.html' %}

{% include 'adminpanel/admin_buttons.html' %}


{% block title %}{{ student_obj.user.username }}'s Profile{% endblock %}

{% block content %}
<div class="profile-container">

  <h1>{{ student_obj.user.get_full_name|default:student_obj.user.username }}</h1>
  <p>{{ student_obj.bio }}</p>

  <hr>

  <!-- Skills Section -->
  <h2>Skills</h2>
  {% if student_obj.skills.all %}
    <ul>
      {% for skill in student_obj.skills.all %}
        <li>
          {{ skill.name }} ({{ skill.endorsement_count }} endorsements)
          {% include 'profiles/admin_buttons.html' with student=student_obj skill=skill %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No skills added yet.</p>
  {% endif %}

  <hr>

  <!-- Projects Section -->
  <h2>Projects</h2>
  {% if student_obj.projects.all %}
    <ul>
      {% for project in student_obj.projects.all %}
        <li>
          <strong>{{ project.title }}</strong>: {{ project.description }}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No projects added yet.</p>
  {% endif %}

  <hr>

  <!-- Awards Section -->
  <h2>Awards</h2>
  {% if student_obj.awards.all %}
    <ul>
      {% for award in student_obj.awards.all %}
        <li>
          <strong>{{ award.title }}</strong>: {{ award.description }}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No awards added yet.</p>
  {% endif %}

  <hr>

  <!-- Portfolio Section -->
  <h2>Portfolio</h2>
  {% if student_obj.portfolio.all %}
    <ul>
      {% for item in student_obj.portfolio.all %}
        <li>
          <strong>{{ item.title }}</strong>
          {% if item.file %}
            - <a href="{{ item.file.url }}" target="_blank">Download</a>
          {% endif %}
          {% if item.url %}
            - <a href="{{ item.url }}" target="_blank">Link</a>
          {% endif %}
          {% if item.screenshot %}
            <br><img src="{{ item.screenshot.url }}" alt="{{ item.title }}" width="200">
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No portfolio items added yet.</p>
  {% endif %}

</div>
{% endblock %}
